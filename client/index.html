<button onclick="pay()">pay</button>
<button onclick="sendTx()">sendTx</button>

<script>
  // a. Desktop Game: Alice clicks "Pay"
  const wsGame = new WebSocket("ws://localhost:3000");
  const wsWallet = new WebSocket("ws://localhost:3001");

  function pay() {
    // b. Desktop Game: opens socket connection and waits for response
    wsGame.send("0xbob");

    // d. Desktop Game: deeps like to browser wallet
  }

  function sendTx() {
    // e. Browser Wallet: Metamask popus up. Alice signs tx gets txHash: 0xtxHash
    const txHash = "0xtxHash";
    // f. Browser Wallet: sends {user: 0xAlice, receipt: 0xtxHash} to socket
    wsWallet.send(JSON.stringify({ address: "0xbob", receipt: txHash }));
  }

  // i. Browser Wallet: Redirect Alice back to game

  // j. Desktop Game: recieves response and display txHash
  wsGame.onmessage = ({ data }) => {
    console.log(data);
  };
</script>
